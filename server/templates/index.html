<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>PoliWeather | Check the weather!</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/font-awesome.min.css" rel="stylesheet">
    <link href="css/prettyPhoto.css" rel="stylesheet">
    <link href="css/main.css" rel="stylesheet">
    <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
    <script src="js/respond.min.js"></script>
    <![endif]-->
    <link rel="shortcut icon" href="images/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="images/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="images/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="images/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="images/ico/apple-touch-icon-57-precomposed.png">
</head><!--/head-->
<style type="text/css">
.navbar-header{
  background-color: #33495f;
}
.navbar-collapse{
  background-color: #33495f;
}
hr{
    padding-right: : 5px;
    margin: 0px;    
}
.forecast_with_scroll{
    overflow-y: auto;
    overflow-x: hidden;
    height: 500px;
}
</style>
<body data-spy="scroll" data-target="#navbar" data-offset="0">
    <header id="header" role="banner">
        <div class="container">
            <div id="navbar" class="navbar navbar-default">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <!--To make the title and the logo editable, I moved the background of the logo (the moving gif) to css/main.css. To change the name 
                      from PoliWeather to something else you just need to change the following path with a new one -->
                    <a class="navbar-brand" href="#"><img style="padding-left:15px; height: 90%;" src="./images/logo-scritta.png" width="130%" height="90%" /></a>
                </div>
                <div class="collapse navbar-collapse">
                  <!--Main menu in the top-bar (navbar)-->  
                  <ul class="nav navbar-nav">
                        <li class="active"><a href="#main-slider"><p style="color:white;">Home</p></a></li>
                        <li><a href="#check"><p style="color:white;">Check</p></a></li>
                        <li><a href="#documentation"><p style="color:white;">Documentation</p></a></li>
                        <li><a href="#download"><p style="color:white;">Download</p></a></li>
                        <li><a href="#about-us"><p style="color:white;">About Us</p></a></li>
                        <li><a href="#contact"><p style="color:white;">Contact</p></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header><!--/#header-->
    
    <!--Start of the Main Slider - Here you can custom the image and the text of all slides-->
    <section id="main-slider" class="carousel">
        <div class="carousel-inner">
          <!-- Every slide is started with a div with th eclass item-->  
          <div class="item active">
                <div class="container">
                    <div class="carousel-content">
                        <h1>PoliWeather</h1>
                        <p class="lead">Project for "Piattaforme Software della Rete" course at<br>Politecnico di Milano</p>
                    </div>
                </div>
            </div><!--/.item-->
            <div class="item">
                <div class="container">
                    <div class="carousel-content">
                        <h1>ShapeBootstrap.net</h1>
                        <p class="lead">Download free but 100% premium quaility twitter Bootstrap based WordPress and HTML themes <br>from shapebootstrap.net</p>
                    </div>
                </div>
            </div><!--/.item-->
        </div><!--/.carousel-inner-->
        <a class="prev" href="#main-slider" data-slide="prev"><i class="icon-angle-left"></i></a>
        <a class="next" href="#main-slider" data-slide="next"><i class="icon-angle-right"></i></a>
    </section><!--/#main-slider-->

    <!-- Begin of the Check section -->
    <section id="check">
        <div class="container">
            <div class="box first">
                <div class="row">
                  <div class="center gap">
                      <h2>Check the Weather</h2>
                      <p class="lead">Insert the name of a city to check instantly <br />the forecast.</p>
                  </div><!--/.center-->
                  <div class="row" style="padding-bottom: 7%">
                    <div class="col-sm-10">
                      <div style="padding-left: 10%;">
                        <input id="check_weather_label" type="text" class="form-control" required="required" placeholder="Name">
                      </div>
                    </div>
                    <div class="col-sm-2">
                      <button id="check_weather_button" type="submit" class="btn btn-danger btn-lg">Check</button>
                    </div>
                  </div>
                  <!-- Initially empty-->
                  <div id="show_weather_current"></div>
                  <div id="show_weather_forecast">
                  </div><!--show_weather -->
                </div><!--/.row-->
            </div><!--/.box-->
        </div><!--/.container-->
    </section><!--/#services-->
    <!-- End of the Check section-->

    <!-- Begin of the Documentation section-->
    <section id="documentation">
        <div class="container">
            <div class="box">
                <div class="center gap">
                    <h2>Documentation</h2>
                    <p class="lead">Check the documentation for this project in our <a href="https://github.com/Lykos94/poliweather">GitHub page</p>
                </div><!--/.center-->
                <ul class="portfolio-filter">
                    <li><a class="btn btn-primary active" href="#" data-filter="*">All</a></li>
                    <li><a class="btn btn-primary" href="#" data-filter=".bootstrap">Bootstrap</a></li>
                    <li><a class="btn btn-primary" href="#" data-filter=".html">HTML</a></li>
                    <li><a class="btn btn-primary" href="#" data-filter=".wordpress">Wordpress</a></li>
                </ul><!--/#portfolio-filter-->
                <ul class="portfolio-items col-4">
                    <li class="portfolio-item apps">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item1.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item1.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item joomla bootstrap">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item2.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item2.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item bootstrap wordpress">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item3.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item3.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item joomla wordpress apps">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item4.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item4.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item joomla html">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item5.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item5.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item wordpress html">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item6.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item6.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item joomla html">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item5.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item5.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                    <li class="portfolio-item wordpress html">
                        <div class="item-inner">
                            <div class="portfolio-image">
                                <img src="images/portfolio/thumb/item6.jpg" alt="">
                                <div class="overlay">
                                    <a class="preview btn btn-danger" title="Lorem ipsum dolor sit amet" href="images/portfolio/full/item6.jpg"><i class="icon-eye-open"></i></a>
                                </div>
                            </div>
                            <h5>Lorem ipsum dolor sit amet</h5>
                        </div>
                    </li><!--/.portfolio-item-->
                </ul>
            </div><!--/.box-->
        </div><!--/.container-->
    </section><!--/#portfolio-->
    <!-- End of the Documentation section -->

    <!-- Begin of the Download section-->
    <section id="download">
        <div class="container">
            <div class="box">
                <div class="center">
                    <h2>Download now!</h2>
                    <p class="lead">Check our app for all the different platform!</p>
                </div><!--/.center-->
                <div class="big-gap"></div>
                <div id="pricing-table" class="row">
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-apple icon-md icon-color1"></i>
                            <h4>iOS development</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-android icon-md icon-color2"></i>
                            <h4>Android development</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-windows icon-md icon-color3"></i>
                            <h4>Windows Phone development</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-html5 icon-md icon-color4"></i>
                            <h4>Ruby on Rails development</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-css3 icon-md icon-color5"></i>
                            <h4>Javascript development</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                    <div class="col-md-4 col-sm-6">
                        <div class="center">
                            <i class="icon-thumbs-up icon-md icon-color6"></i>
                            <h4>Responsive web design</h4>
                            <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae.</p>
                        </div>
                    </div><!--/.col-md-4-->
                </div>
            </div>
        </div>
    </section><!--/#pricing-->
        <!-- End of the Download section-->


    <section id="about-us">
        <div class="container">
            <div class="box">
                <div class="center">
                    <h2>Meet the Team</h2>
                    <p class="lead">Pellentesque habitant morbi tristique senectus et netus et<br>malesuada fames ac turpis egestas.</p>
                </div>
                <div class="gap"></div>
                <div id="team-scroller" class="carousel scale">
                    <div class="carousel-inner">
                        <div class="item active">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team1.jpg" alt="" ></p>
                                        <h3>Agnes Smith<small class="designation">CEO &amp; Founder</small></h3>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team2.jpg" alt="" ></p>
                                        <h3>Donald Ford<small class="designation">Senior Vice President</small></h3>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team3.jpg" alt="" ></p>
                                        <h3>Karen Richardson<small class="designation">Assitant Vice President</small></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="item">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team3.jpg" alt="" ></p>
                                        <h3>David Robbins<small class="designation">Co-Founder</small></h3>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team1.jpg" alt="" ></p>
                                        <h3>Philip Mejia<small class="designation">Marketing Manager</small></h3>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="member">
                                        <p><img class="img-responsive img-thumbnail img-circle" src="images/team2.jpg" alt="" ></p>
                                        <h3>Charles Erickson<small class="designation">Support Manager</small></h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <a class="left-arrow" href="#team-scroller" data-slide="prev">
                        <i class="icon-angle-left icon-4x"></i>
                    </a>
                    <a class="right-arrow" href="#team-scroller" data-slide="next">
                        <i class="icon-angle-right icon-4x"></i>
                    </a>
                </div><!--/.carousel-->
            </div><!--/.box-->
        </div><!--/.container-->
    </section><!--/#about-us-->

    <section id="contact">
        <div class="container">
            <div class="box last">
                <div class="row">
                    <div class="col-sm-6">
                        <h1>Contact Form</h1>
                        <p>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas.</p>
                        <div class="status alert alert-success" style="display: none"></div>
                        <form id="main-contact-form" class="contact-form" name="contact-form" method="post" action="sendemail.php" role="form">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <input type="text" class="form-control" required="required" placeholder="Name">
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <input type="text" class="form-control" required="required" placeholder="Email address">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <div class="form-group">
                                        <textarea name="message" id="message" required="required" class="form-control" rows="8" placeholder="Message"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-danger btn-lg">Send Message</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div><!--/.col-sm-6-->
                    <div class="col-sm-6">
                        <h1>Our Address</h1>
                        <div class="row">
                            <div class="col-md-6">
                                <address>
                                    <strong>Twitter, Inc.</strong><br>
                                    795 Folsom Ave, Suite 600<br>
                                    San Francisco, CA 94107<br>
                                    <abbr title="Phone">P:</abbr> (123) 456-7890
                                </address>
                            </div>
                            <div class="col-md-6">
                                <address>
                                    <strong>Twitter, Inc.</strong><br>
                                    795 Folsom Ave, Suite 600<br>
                                    San Francisco, CA 94107<br>
                                    <abbr title="Phone">P:</abbr> (123) 456-7890
                                </address>
                            </div>
                        </div>
                        <h1>Connect with us</h1>
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="social">
                                    <li><a href="#"><i class="icon-facebook icon-social"></i> Facebook</a></li>
                                    <li><a href="#"><i class="icon-google-plus icon-social"></i> Google Plus</a></li>
                                    <li><a href="#"><i class="icon-pinterest icon-social"></i> Pinterest</a></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="social">
                                    <li><a href="#"><i class="icon-linkedin icon-social"></i> Linkedin</a></li>
                                    <li><a href="#"><i class="icon-twitter icon-social"></i> Twitter</a></li>
                                    <li><a href="#"><i class="icon-youtube icon-social"></i> Youtube</a></li>
                                </ul>
                            </div>
                        </div>
                    </div><!--/.col-sm-6-->
                </div><!--/.row-->
            </div><!--/.box-->
        </div><!--/.container-->
    </section><!--/#contact-->
    <!-- Begin of the FOOTER -->
    <footer id="footer">
        <div class="container">
            <div class="row">
                <div class="col-sm-6">
                    &copy; 2013 <a target="_blank" href="http://shapebootstrap.net/" title="Free Twitter Bootstrap WordPress Themes and HTML templates">ShapeBootstrap</a>. All Rights Reserved.
                </div>
                <div class="col-sm-6">
                    <img class="pull-right" src="images/shapebootstrap.png" alt="ShapeBootstrap" title="ShapeBootstrap">
                </div>
            </div>
        </div>
    </footer><!--/#footer-->
    <!-- ================================ Begin of the Javascript Section ===================================-->
    <!--<script src="js/jquery.js"></script>-->
    <script src="http://code.jquery.com/jquery-1.8.3.min.js" type="text/javascript"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/jquery.isotope.min.js"></script>
    <script src="js/jquery.prettyPhoto.js"></script>
    <script src="js/main.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <!-- Script necessary to parse informations from the server, passed as JSON -->
    <script type="text/javascript">
    $(document).ready(function () {
        $("#check_weather_button").click(function(){
            //Empty is the function necessary to erase all the content of the div to show it clear every time the user makes a new request
            $("#show_weather_current").empty();
            $("#show_weather_forecast").empty();
            $contenuto = $("#check_weather_label").val();
            $.get("http://127.0.0.1:5000/app/city/" + $contenuto, function(data){
                //$( "#show_weather_forecast" ).append( data );
                var jsonData = JSON.parse(data);
                //Retrive the information of the place (as city name and country)
                var cityName = jsonData.cityName;
                var cityCountry = jsonData.country;
                //Retrive the current weather information.
                //Temperature (expressed in °C)
                var cityTemp = Math.round(jsonData.temp[0] - 273.15);
                //Humidity (expressed in %)
                var cityHumid = jsonData.humidity;
                //Current Weather, used later to choose which icon to display
                var cityWeather = jsonData.weather[0];
                //Description of the weather.
                var cityDescription = jsonData.description[0];
                //Time of the retrived information. As it takes the forecast information, often it isn't the real current time, 
                // but the closest in a 3 hour range
                var cityTime = jsonData.time[0];
                //cityDescription = cityDescription.capitalizeFirstLetter();
                var cityWind = jsonData.wind;
                var cityIcon;
                if(cityWeather == "Clouds"){
                    cityIcon = "/images/ico/cloudy.png";
                }
                if(cityWeather == "Clear"){
                    cityIcon = "/images/ico/sunny.png";
                }
                if(cityWeather == "Rain"){
                    cityIcon = "/images/ico/rainy.png";
                }
                if(cityWeather == "Snow"){
                    cityIcon = "/images/ico/snowy.png";
                }
                //This is the <div> appended to show_weather_forecast. Here are displayed in a styled row all the information gathered before 
                $("#show_weather_current").append('<div class="row"><div class="col-md-offset-1 col-md-3"><img src="'+cityIcon+'" width="80%" height="80%" style="padding: 10%;"/></div><div class="col-md-8"><hr><div class="row" style="background-color: #33485f;"><div class="col-md-offset-2 col-md-5"><div class="center"><h3 style="color:white;"><b>'+cityName+', '+cityCountry+'</b></h3></div></div><div class="col-md-5"><div class="center"><h4 style="color:white;">Time:<br>'+cityTime+'</h4></div></div></div><hr><div class="row"><div class="col-md-offset-2 col-md-5"><div class="center"><h4>'+cityWeather+', '+cityDescription+'</h4></div></div><div class="col-md-5"><div class="center"><h4>Temperature: '+cityTemp+' °C<br>Humidity: '+cityHumid+' %<br>Wind: '+cityWind+' km/h</h4></div></div></div><hr></div></div><div class="row" style="background-color: #33485f;"><div class="col-md-offset-1 col-md-4"><h4 style="color:white;"><b>Next hours/days</b></h4></div></div><hr style="padding-bottom:10px">');
                //Loop used to retrive all the data needed in the list of next hours/days                
                for (var i = 1; i < 36; i++) {
                    //Temperature
                    var remnantTemp = Math.round(jsonData.temp[i] - 273.15);
                    //Description
                    var remnantDescription = jsonData.description[i];
                    //Time (hours/mins)
                    var remnantTime = jsonData.time[i];
                    //Weather
                    var remnantWeather = jsonData.weather[i];
                    //If cases for the icon choice. Modify the following paths change the icons displayed
                    var remnantIcon;
                    if(remnantWeather == "Clouds"){
                        remnantIcon = "/images/ico/cloudy.png";
                    }
                    if(remnantWeather == "Clear"){
                        remnantIcon = "/images/ico/sunny.png";
                    }
                    if(remnantWeather == "Rain"){
                        remnantIcon = "/images/ico/rainy.png";
                    }
                    if(remnantWeather == "Snow"){
                        remnantIcon = "/images/ico/snowy.png";
                    }
                    //This is the <div> appended to the show_weather_forecast div, and display all the information gathered before in a row
                    $("#show_weather_forecast").append('<div class="row" ><div class="col-md-offset-1 col-md-3"><img src="'+remnantIcon+'" height="15%" width="15%" /></div><div class="col-md-3"><h4>'+remnantWeather+', '+remnantDescription+'</h4></div><div class="col-md-2"><h4>'+ remnantTemp+' °C</h4></div><div class="col-md-2"><h4>'+remnantTime+'</h4></div></div>').addClass("forecast_with_scroll");

                }
            });

        });
    });
    </script>
    <!--This script is used to prevent the default behaviour of the Enter key (keycode 13 in JS) and make it perform a click action on press -->
    <script>
  $(document).on("keyup", function(e){
    e.preventDefault();
    if(e.keyCode == 13){
       $("#check_weather_button").click();
    }
  });
</script>
  <script type="text/javascript">
        //Function to capitalize the first letter of a string - NOT WORKING :(
        function capitalizeFirstLetter(string) {
            return string.charAt(0).toUpperCase() + string.slice(1);
        }
    </script>
</body>
</html>
